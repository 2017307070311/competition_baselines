# 智源-水利知识图谱构建挑战赛 Baseline 分享

## 赛道链接

http://competition.baai.ac.cn/c/37/format/introduce

## 赛道介绍

近年来知识图谱技术作为一种用于描述客观世界中概念，实例及其关系的新方法，得到了人们的广泛关注，利用知识图谱可以有效拓展搜索结果的广度。目前水利行业采用的基于关键字的搜索技术难以利用对象间关系进行信息检索。如果可以构建完善的水利领域知识图谱，可以有效利用水利对象之间的关系,充分发挥水利信息资源的价值。

由于水利领域中存在大量河流、湖泊和水库等实体，造成众多实体歧义问题（如：红旗水库，黑河，清河等），导致从非结构化文本数据中精准的提取水利实体并消歧同名实体还存在较大困难。本次比赛的目的就是提出一个提取水利相关文本中不同实体类型的方法。

本次比赛的数据由中国工程科技知识中心水利专业知识服务系统（中国水利水电科学研究院）和智谱 AI 共同提供。

PS: 「就是一个 NER 比赛」

## 文本清洗和预处理

训练集数据中有几十个 label 标注不完整，如：

```
 "长江#河流*[@]水系-TER"
```

应该分为

```
"长江-RIV"
"水系-TER"
```

可以通过以下命令找出 

```
/bin/grep -Po '^\s+".*\[@\].*-[A-Z]{3}"' bmes_train.json
```

另外还有少部分不符合上述格式的标注错误，我都找出来了，可参考 notebook 的代码。

标注采用了 BIO 标注法，也请参考代码。

TEXT: 东西两源汇合后，进入平原区，北流经过石埠嘴、船涨埠，至白洋淀后进入瓦埠湖。
LABEL: [白洋淀-LAK, 瓦埠湖-LAK]

处理为：(O 表示 other, B_XXX 表示一个实体词语的开始，I_XXX 表示一个实体词语的中间或结束)

```
['东', 'O']
['西', 'O']
['两', 'O']
['源', 'O']
['汇', 'O']
['合', 'O']
['后', 'O']
['，', 'O']
['进', 'O']
['入', 'O']
['平', 'O']
['原', 'O']
['区', 'O']
['，', 'O']
['北', 'O']
['流, 'O']
['经', 'O']
['过', 'O']
['石', 'O']
['埠, 'O']
['嘴', 'O']
['、', 'O']
['船', 'O']
['涨', 'O']
['埠', 'O']
['，', 'O']
['至', 'O']
['白', 'B_LAK']
['洋', 'I_LAK']
['淀', 'I_LAK']
['后', 'O']
['进', 'O']
['入', 'O']
['瓦, 'B_LAK']
['埠', 'I_LAK']
['湖', 'I_LAK']
['。', 'O']
```

## 模型训练

采用 chinese-roberta-wwm-ext，8 epochs，训练集验证集九比一划分，25 分钟内可以训练完

单折线下 f1: 0.8161，线上 0.7948

## TODO

1. 其他预训练模型
2. 多折训练融合
3. 结合 CRF
